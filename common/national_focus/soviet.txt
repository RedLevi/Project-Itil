focus_tree = {
	id = soviet_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}

	default = no
	
	focus = {
		id = soviet_industry_1
		icon = GFX_goal_generic_construct_infrastructure
		x = 4
		y = 0
		cost = 10
		bypass = {
			AND = {
				all_owned_state = {			
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				all_owned_state = {			
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}
		
		complete_tooltip = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 3
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 3
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}
	
	focus = {
		id = soviet_industry_2
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = soviet_industry_1 }
		x = 4
		y = 1
		cost = 10
		bypass = {
			AND = {
				all_owned_state = {			
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}
		
		complete_tooltip = {
		
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		
		completion_reward = {
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}			
	}
	
	focus = {
		id = soviet_civil_1
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = soviet_industry_2 }
		x = 1
		y = 2
		cost = 10
		bypass = {
			all_owned_state = {
				free_building_slots = {
					building = industrial_complex
					size < 1
					include_locked = yes
				}
			}
		}
		
		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 0
					}
				}
			
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
			
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_civil_2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = soviet_civil_1 }
		x = 1
		y = 3
		cost = 10
		bypass = {
			all_owned_state = {
				free_building_slots = {
					building = industrial_complex
					size < 1
					include_locked = yes
				}
			}
		}
		
		complete_tooltip = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
			
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
			
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
			
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_infastructur_1
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = soviet_industry_2 }
		x = 4
		y = 2
		cost = 10
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_infastructur_2
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = soviet_infastructur_1 }
		x = 4
		y = 3
		cost = 10
		bypass = {
			AND = {
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}
		
		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 3
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_miltary_fact_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = soviet_industry_2 }
		prerequisite = { focus = soviet_consumers_1 }
		x = 7
		y = 2
		cost = 10
		bypass = {
			all_owned_state = {
				free_building_slots = {
					building = arms_factory
					size < 1
					include_locked = yes
				}
			}
		}
		
		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_miltary_fact_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = soviet_miltary_fact_1 }
		x = 7
		y = 3
		cost = 10
		bypass = {
			all_owned_state = {
				free_building_slots = {
					building = arms_factory
					size < 1
					include_locked = yes
				}
			}
		}
		
		complete_tooltip = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
			
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = soviet_civil_1 }
		prerequisite = { focus = soviet_infastructur_1 }
		x = 2.5
		y = 3
		cost = 10
		bypass = {
			if = {
				limit = { has_tech = synth_oil_experiments } 
			}
			all_owned_state = {
				free_building_slots = {
					building = synthetic_refinery
					size < 1
					include_locked = yes
				}
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		
		complete_tooltip = {
			if = {
				limit = { can_research = synth_oil_experiments = 1}
				set_technology = { synth_oil_experiments = 1 }	
				else = {
					add_tech_bonus = {
						name = CAN_polymer_corporation
						bonus = 0.5
						uses = 1
						category = synth_resources
					}
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size < 1
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size < 1
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_tech = synth_oil_experiments }
				}
				set_technology = { synth_oil_experiments = 1 }
				effect_tooltip = {
					random_owned_controlled_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {

						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					add_tech_bonus = {
						name = SOV_refinery
						ahead_reduction = 1
						bonus = 0.5
						uses = 1
						category = synth_resources
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_military_production
		icon = GFX_goal_generic_production
		prerequisite = { focus = soviet_miltary_fact_1 }
		x = 5.5
		y = 3
		cost = 10
		
		completion_reward = {
			industrial_capacity_factory = 0.1
		}
	}
	
	focus = {
		id = soviet_industry_3
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = soviet_civil_2 }
		prerequisite = { focus = soviet_infastructur_2 }
		prerequisite = { focus = soviet_miltary_fact_2 }
		x = 4
		y = 4
		cost = 10
		bypass = {
			AND = {
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
			}
		}
		
		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size < 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size < 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = soviet_sience_1
		icon = GFX_focus_research
		prerequisite = { focus = soviet_industry_3 }
		x = 4
		y = 5
		cost = 10
		
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = soviet_nuke
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = soviet_industry_3 }
		x = 2
		y = 5
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = nuclear
			}
		}
	}
	
	focus = {
		id = soviet_consumers_1
		icon = GFX_goal_generic_consumer_goods
		x = 6
		y = 0
		cost = 10
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = undisturbed_isolation }
					NOT = { has_idea = isolation }
					NOT = { has_idea = civilian_economy }
				}
				add_political_power = 150
			}
			if = {
				limit = {
					OR = {
						has_idea = isolation 
						has_idea = undisturbed_isolation 
						has_idea = civilian_economy
					}
				}
				add_ideas = early_mobilization
			}
		}
	}