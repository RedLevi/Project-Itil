###################################
#   Temporary Balkan War Chains   #
# Until other chains are finished #
#           By: HappyNTH          #
###################################

add_namespace = balkan

## Austrian Reconquest of Hungary ##
## Event will properly be implemented into a focus tree and not just left to trigger whenever soon! ##

country_event = { # Austria's initiation event
	id = balkan.1
	title = balkan.1.t
	desc = balkan.1.d
	fire_only_once = yes
	mean_time_to_happen = {
		days = 100
		modifier = {
			factor = 0.5
			threat < 0.5
		}
	}
	trigger = {
		tag = AUS
		date > 1939.1.1
		threat < 0.2
		NOT = {
			OR = {
				has_war_with = HUN
				is_in_faction_with = HUN
				NOT = {
					OR = {
						is_subject_of = HUN
						HUN = { is_subject_of = AUS }
					}
				}
			}
		}
		country_exists = HUN
	}

	option = { # We are strong enough alone. It is time.
		name = balkan.1.a
		ai_chance = { factor = 10 }
		# Some claims on Hungary here?
		declare_war_on = { target = HUN type = annex_everything }
		HUN = { country_event = { id = balkan.2 days = 1 } }
		custom_effect_tooltip = AUS_reconquest_inform_majors
		hidden_effect = {
			GER = { country_event = { days = 7 id = balkan.3 } } # Austria takes initiative!
			ENG = { country_event = { days = 7 id = balkan.4 } } # Austria declares reconquest!
			YUG = { country_event = { days = 7 id = balkan.5 } } # Austria invades Hungary!
			ROM = { country_event = { days = 7 id = balkan.6 } } # Hungary is at war!
			news_event = balkan.6 # Austria declares war on Hungary
		}
		add_ideas = AUS_Reconquest_War
	}

	option = { # Request help from Germany in the war
		trigger = {
			country_exists = GER
			OR = {
				is_in_faction_with = GER
				is_subject_of = GER
			}
			NOT = { GER = {
				OR = {
					is_in_faction_with = HUN
					HUN = { is_subject_of = GER }
				}
			} }
		}
		name = balkan.1.b
		ai_chance = { factor = 60 }
		GER = { country_event = { days = 1 id = balkan.7 } } # Austria proposed reconquest
	}

	option = { # Eh we're fine actually guys our empire is dead whatever
		name = balkan.1.c
		ai_chance = { factor = 30 }
		add_national_unity = -0.05
	}
}

country_event = { # The Austrians have declared war!
	id = balkan.2
	title = balkan.2.t
	desc = balkan.2.d
	is_triggered_only = yes

	option = { # We will defend our homeland!
		name = balkan.2.a
		add_political_power = 50
		add_ideas = HUN_Defend_Homeland
	}
}